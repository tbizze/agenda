import{o as t,c as o,b as i,e as p,k as g,u as r,T as V,w as c,F as v,Z as N,g as x,t as _,i as f,f as b,a as e,j as P,l as S,h as y,O as h}from"./app-qWYcPTlk.js";import{_ as F}from"./AppLayout-bkEbNcv0.js";import{B as O,_ as T}from"./BizPageTitle-YKBcEzJD.js";import{_ as j,r as A,a as D,P as E}from"./BizButtonCreate-_9fv1cjj.js";import{_ as k,a as U}from"./BizTheadOrder-nzxYBR8r.js";import"./_plugin-vue_export-helper-x3n3nnut.js";function q(d,u){return t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})])}function H(d,u){return t(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z","clip-rule":"evenodd"})])}const I={class:"btn btn-accent btn-square rounded-md btn-xs"},L={__name:"BizButtonStop",props:{label:{type:[String],default:""}},setup(d){return(u,a)=>(t(),p("button",I,[(t(),o(g(r(H)),{class:"h-4 w-4"}))]))}},Z={class:"btn btn-square rounded-md btn-xs"},G={__name:"BizButtonPlay",props:{label:{type:[String],default:""}},setup(d){return(u,a)=>(t(),p("button",Z,[(t(),o(g(r(q)),{class:"h-4 w-4"}))]))}},J={class:"w-full md:w-1/2"},K={class:"relative"},Q={class:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"},R={class:"btn rounded-md btn-sm"},W={class:"table"},X={class:"text-sm uppercase text-gray-700 bg-stone-200"},Y=e("th",{class:"text-center w-10"},"#",-1),ee=e("th",{class:"text-center"},"Funções",-1),te=e("th",{class:"text-center"},"Ação",-1),se={class:"text-center w-10"},ne={class:""},ae={class:""},re={class:"text-center space-x-1"},oe={class:"text-center space-x-1 w-32"},ie=e("div",{class:"font-semibold"},null,-1),_e={__name:"UserIndex",props:{users:Object,titulo:"",filters:Object},setup(d){const u=d,a=V({search:u.filters.search,field:u.filters.field,direction:u.filters.direction});function $(){h.get(route("admin.users.index"),a)}function B(s){h.get(route("admin.users.edit",s))}function C(s){h.put(route("admin.users.ban",s))}function z(s){h.put(route("admin.users.unBan",s))}function M(){h.get(route("admin.users.create"))}function w(s){a.field=s,a.direction=a.direction==="asc"?"desc":"asc",$()}return(s,l)=>(t(),p(v,null,[i(r(N),{title:s.$props.titulo},null,8,["title"]),i(F,{title:s.$props.titulo},{header:c(()=>[i(O,null,{default:c(()=>[x(_(s.$props.titulo),1)]),_:1}),s.$page.props.auth.user.permissions.includes("admin.users.create")?(t(),o(j,{key:0,onClick:f(M,["prevent"]),label:"Cadastrar"})):b("",!0)]),default:c(()=>[i(T,null,{tabHeader:c(()=>[e("div",J,[e("form",{onSubmit:l[1]||(l[1]=f(n=>$(),["prevent"])),class:"flex gap-2"},[e("div",K,[e("div",Q,[(t(),o(g(r(A)),{class:"h-5 w-5"}))]),P(e("input",{type:"search","onUpdate:modelValue":l[0]||(l[0]=n=>r(a).search=n),class:"py-1.5 text-sm rounded-md bg-gray-100 border-gray-300 hover:bg-gray-200 hover:border-gray-400 focus:border-blue-500 focus:ring-blue-500 pl-8",placeholder:"Procurar"},null,512),[[S,r(a).search]])]),e("button",R,[(t(),o(g(r(D)),{class:"h-4 w-4"}))])],32)])]),tabBody:c(()=>[e("table",W,[e("thead",X,[e("tr",null,[Y,e("th",{class:"hover:text-accent cursor-pointer",onClick:l[2]||(l[2]=n=>w("name"))},[i(k,{field:r(a).field,coluna:"name",direction:r(a).direction},{default:c(()=>[x(" Nome ")]),_:1},8,["field","direction"])]),e("th",{class:"hover:text-accent cursor-pointer",onClick:l[3]||(l[3]=n=>w("email"))},[i(k,{field:r(a).field,coluna:"email",direction:r(a).direction},{default:c(()=>[x(" E-mail ")]),_:1},8,["field","direction"])]),ee,te])]),e("tbody",null,[(t(!0),p(v,null,y(d.users.data,n=>(t(),p("tr",{key:n.id,class:"border-b hover:bg-stone-100"},[e("td",se,_(n.id),1),e("td",ne,_(n.name),1),e("td",ae,_(n.email),1),e("td",re,[(t(!0),p(v,null,y(n.roles,m=>(t(),p("span",{key:m.id,class:"badge badge-ghost badge-sm"},_(m.name),1))),128))]),e("td",oe,[s.$page.props.auth.user.permissions.includes("admin.users.edit")?(t(),o(U,{key:0,onClick:f(m=>B(n.id),["prevent"])},null,8,["onClick"])):b("",!0),s.$page.props.auth.user.permissions.includes("admin.users.ban")?(t(),o(L,{key:1,onClick:f(m=>C(n.id),["prevent"])},null,8,["onClick"])):b("",!0),s.$page.props.auth.user.permissions.includes("admin.users.unban")?(t(),o(G,{key:2,onClick:f(m=>z(n.id),["prevent"])},null,8,["onClick"])):b("",!0)])]))),128))])])]),tabFooter:c(()=>[ie,i(E,{pagination:d.users},null,8,["pagination"])]),_:1})]),_:1},8,["title"])],64))}};export{_e as default};
