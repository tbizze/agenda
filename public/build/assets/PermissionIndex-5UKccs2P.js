import{T as N,o as i,e as c,b as l,u as n,w as r,F as b,Z as P,g,t as d,c as u,i as p,f as v,a as e,k,j as V,l as F,h as x,O as f}from"./app-u767hGP_.js";import{_ as O}from"./AppLayout-DMg8vL_4.js";import{B as T,_ as j}from"./BizPageTitle-MZ51WRPc.js";import{_ as M,r as A,a as E,P as S}from"./BizButtonCreate-dqJY3JQZ.js";import{_ as w,a as z}from"./BizTheadOrder-B6xZx7wZ.js";import{_ as H}from"./BizButtonDelete-lpGnC-RO.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const I={class:"w-full md:w-1/2"},L={class:"relative"},U={class:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none"},Z={class:"btn rounded-md btn-sm"},q={class:"table table-compact"},G={class:"text-sm uppercase text-gray-700 bg-stone-200"},J=e("td",{class:"text-center w-10"},"#",-1),K=e("td",{class:""},"Descrição",-1),Q=e("td",{class:"text-center"},"Funções",-1),R=e("td",{class:"text-center"},"Ação",-1),W={class:"text-center w-10"},X={class:""},Y={class:""},ee={class:""},te={class:"text-center space-x-1"},se={class:"text-center space-x-1 w-24"},oe=e("div",{class:""},null,-1),ue={__name:"PermissionIndex",props:{permissions:Object,titulo:"",filters:Object},setup(_){const h=_,o=N({search:h.filters.search,field:h.filters.field,direction:h.filters.direction});function $(){f.get(route("admin.permissions"),o)}function C(s){f.get(route("admin.permissions.edit",s))}function B(s){f.delete(route("admin.permissions.delete",s))}function D(){f.get(route("admin.permissions.create"))}function y(s){o.field=s,o.direction=o.direction==="asc"?"desc":"asc",$()}return(s,a)=>(i(),c(b,null,[l(n(P),{title:s.$props.titulo},null,8,["title"]),l(O,{title:s.$props.titulo},{header:r(()=>[l(T,null,{default:r(()=>[g(d(s.$props.titulo),1)]),_:1}),s.$page.props.auth.user.permissions.includes("admin.permissions.create")?(i(),u(M,{key:0,onClick:p(D,["prevent"]),label:"Cadastrar"})):v("",!0)]),default:r(()=>[l(j,null,{tabHeader:r(()=>[e("div",I,[e("form",{onSubmit:a[1]||(a[1]=p(t=>$(),["prevent"])),class:"flex gap-2"},[e("div",L,[e("div",U,[(i(),u(k(n(A)),{class:"h-5 w-5"}))]),V(e("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=t=>n(o).search=t),class:"py-1.5 text-sm rounded-md bg-gray-100 border-gray-300 hover:bg-gray-200 hover:border-gray-400 focus:border-blue-500 focus:ring-blue-500 pl-8",placeholder:"Procurar"},null,512),[[F,n(o).search]])]),e("button",Z,[(i(),u(k(n(E)),{class:"h-4 w-4"}))])],32)])]),tabBody:r(()=>[e("table",q,[e("thead",G,[J,K,e("td",{class:"hover:text-accent cursor-pointer",onClick:a[2]||(a[2]=t=>y("name"))},[l(w,{field:n(o).field,coluna:"name",direction:n(o).direction},{default:r(()=>[g(" Nome ")]),_:1},8,["field","direction"])]),e("td",{class:"hover:text-accent cursor-pointer",onClick:a[3]||(a[3]=t=>y("model"))},[l(w,{field:n(o).field,coluna:"model",direction:n(o).direction},{default:r(()=>[g(" Módulo ")]),_:1},8,["field","direction"])]),Q,R]),e("tbody",null,[(i(!0),c(b,null,x(_.permissions.data,t=>(i(),c("tr",{key:t.id,class:"border-b hover:bg-stone-100"},[e("td",W,d(t.id),1),e("td",X,d(t.description),1),e("td",Y,d(t.name),1),e("td",ee,d(t.model),1),e("td",te,[(i(!0),c(b,null,x(t.roles,m=>(i(),c("span",{key:m.id,class:"badge badge-ghost badge-sm"},d(m.name),1))),128))]),e("td",se,[s.$page.props.auth.user.permissions.includes("admin.permissions.edit")?(i(),u(z,{key:0,onClick:p(m=>C(t.id),["prevent"])},null,8,["onClick"])):v("",!0),s.$page.props.auth.user.permissions.includes("admin.permissions.delete")?(i(),u(H,{key:1,onClick:p(m=>B(t.id),["prevent"])},null,8,["onClick"])):v("",!0)])]))),128))])])]),tabFooter:r(()=>[oe,l(S,{pagination:_.permissions},null,8,["pagination"])]),_:1})]),_:1},8,["title"])],64))}};export{ue as default};
